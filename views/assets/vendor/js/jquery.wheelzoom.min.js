// Wheelzoom 1.1.2
// (c) 2012 jacklmoore.com | license: www.opensource.org/licenses/mit-license.php
!function(e){var t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAACklEQVR4nGMAAQAABQABDQottAAAAABJRU5ErkJggg==";var n={zoom:.1};var r;if(document.onmousewheel!==undefined){r="onmousewheel"}else if(document.onwheel!==undefined){r="onwheel"}e.fn.wheelzoom=function(i){var s=e.extend({},n,i);if(!this[0]||!r||!("backgroundSize"in this[0].style)){return this}return this.each(function(){function o(){function m(){a=o;f=u;l=c=0;g()}function g(){if(l>0){l=0}else if(l<o-a){l=o-a}if(c>0){c=0}else if(c<u-f){c=u-f}n.style.backgroundSize=a+"px "+f+"px";n.style.backgroundPosition=l+d+"px "+(c+v)+"px"}var o=i.width(),u=i.height(),a=o,f=u,l=0,c=0,h=parseInt(i.css("border-left-width"),10),p=parseInt(i.css("border-top-width"),10),d=parseInt(i.css("padding-left"),10),v=parseInt(i.css("padding-top"),10);i.css({background:"url("+n.src+") 0 0 no-repeat",backgroundSize:o+"px "+u+"px",backgroundPosition:d+"px "+v+"px"}).bind("wheelzoom.reset",m);n.width=n.width||n.naturalWidth;n.height=n.height||n.naturalHeight;n.src=t;n[r]=function(e){var t=0;e.preventDefault();if(e.deltaY){t=e.deltaY}else if(e.wheelDelta){t=-e.wheelDelta}var n=i.offset();var r=e.pageX-n.left-h-d;var y=e.pageY-n.top-p-v;var b=r-l;var w=y-c;var E=b/a;var S=w/f;if(t<0){a+=a*s.zoom;f+=f*s.zoom}else{a-=a*s.zoom;f-=f*s.zoom}l=r-a*E;c=y-f*S;if(a<=o||f<=u){m()}else{g()}};n.onmousedown=function(t){function r(e){e.preventDefault();l+=e.pageX-n.pageX;c+=e.pageY-n.pageY;n=e;g()}var n=t;t.preventDefault();e(document).on("mousemove",r).one("mouseup",function(){e(document).unbind("mousemove",r)})}}var n=this,i=e(n);if(n.complete){o()}else{i.one("load",o)}})};e.fn.wheelzoom.defaults=n}(window.jQuery)